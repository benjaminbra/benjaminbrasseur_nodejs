<!DOCTYPE html>
<html>
  <head>
    <title>Benjamin Brasseur</title>
    <link rel="stylesheet" href="style.css" type="text/css" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
  </head>
  <body>
    <div class="main">

    </div>
    <div class="circle"></div>
    <div class="name">
      <h1>Benjamin Brasseur <span class="blink">|</span></h1>
    </div>
    <script type="application/javascript" src="jquery.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      $(document).ready(function(){
        //Change the backgroud color with a circle
        $('.circle').addClass('growing-circle');
        setTimeout(function(){
          //Change the background color
          $('body').addClass('started');
          //Move name update to the top
          $('.name').addClass('nameUpdate');
          $('.name').addClass('started');
          $('.main').addClass('active')
          setTimeout(function(){
            $('body').removeClass('started');
            $('body').addClass('white');
            $('.circle').addClass('remove-circle');
          }, 500);
        }, 1000);


        var socket = io();
        socket.on('clean', function(){
          $('.main').empty();
        });

        socket.on('gitAdd',function(obj){
            description = obj.description!=null?obj.description:"Description Ã  venir";
            name = obj.name!=null?obj.name:"";
            language = "";
            if(obj.language!=null){
              for(i in obj.language){
                language+='<span class="language '+i+'">'+i+'</span>';
              }
            }
            url = obj.url!=null?obj.url:"#";
            html = '<div>'+
              '<div class="gitRepo">'+
                  '<div class="title"><h2><a target="_blank" href="'+url+'">'+name+'</a><small> <a target="_blank" href="'+url+'"><img src="github.png" alt="Voir sur Github" /></a></small></h2></div>'+
                  language+
                  '<div class="description">'+description+'</div>'+
              '</div>'+
            '</div>';
            $('.main').append(html);
        });
      });
    </script>
  <body>
</html>
